<!DOCTYPE html>
<html>
  <head>
    <title>Play!</title>
    <%= javascript_include_tag 'i18n' %>
    <%= javascript_include_tag 'translations' %>
    <%= javascript_include_tag 'dummy_component' %>
    <%= load_global8ball_game %>
    <script type="text/javascript">
      var ball_positions = {};
      ball_positions['PlayForBegin'] = <%= raw Global8ballGame::BallPosition.config_json "PlayForBegin" %>;
      ball_positions['PlayForVictory'] = <%= raw Global8ballGame::BallPosition.config_json "PlayForVictory" %>;
      ball_positions['ShowResult'] = {};

      var dummy_component = new DummyComponent(<%= raw @game.config %>, ball_positions);
    </script>
    <style type="text/css">
      html {
        font: bold 24px Arial;
      }
      .button {
        text-decoration: none;
        background-color: #EEEEEE;
        color: #333333;
        padding: 2px 6px 2px 6px;
        border-top: 1px solid #CCCCCC;
        border-right: 1px solid #333333;
        border-bottom: 1px solid #333333;
        border-left: 1px solid #CCCCCC;
      }
      .menu select {
      }
      .menu_right {
        float: right;
      }
      #da-game {
        height:105vh;
        width:140vh;
      }
    </style>
  </head>
  <body>
    <div id="menu_top" class="menu">
      <p>Select the current viewer: <%= current_viewer_select %></p>
      <p>Select the current stage: <%= current_stage_select%></p>
      <p id="breaker" style="display: none;">Select who breaks: <%= current_break_select%></p>
      <%= link_to "Let's play", "#", id: "lets_play", class: "button", onclick: "dummy_component.loadGame();" %>
    </div>
    <div id="menu_right" class="menu menu_right" style="display: none;">
      <a href="#" id="reload" class="button" onclick="window.location = '/';">Reload</a>
    </div>
    <div id="da-game"></div>
  </body>
  <script type="text/javascript">
    var elem = document.getElementById('current_stage');
    elem.addEventListener('change', dummy_component.parseCurrentStage, false);
  </script>
</html>
